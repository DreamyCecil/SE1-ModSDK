// This file is generated by Entity Class Compiler, (c) 2002-2012 Croteam Ltd.

#ifndef _EntitiesV_GhostBusterRay_INCLUDED
#define _EntitiesV_GhostBusterRay_INCLUDED 1
#include <EntitiesV/Light.h>
#include <EntitiesV/Bullet.h>
#include <EntitiesV/PlayerWeapons.h>
#include <Engine/Classes/MovableEntity.h>
#define EVENTCODE_EGhostBusterRay 0x01f90000
class DECL_DLL EGhostBusterRay : public CEntityEvent {
public:
EGhostBusterRay();
CEntityEvent *MakeCopy(void);
CEntityPointer penOwner;
};
DECL_DLL inline void ClearToDefault(EGhostBusterRay &e) { e = EGhostBusterRay(); } ;
extern "C" DECL_DLL CDLLEntityClass CGhostBusterRay_DLLClass;
class CGhostBusterRay : public CMovableModelEntity {
public:
virtual CEntity *GetPredictionPair(void) { return m_penPrediction; };
virtual void SetPredictionPair(CEntity *penPair) { m_penPrediction = penPair; };
  DECL_DLL virtual void SetDefaultProperties(void);
  CEntityPointer m_penOwner;
  BOOL m_bRender;
  FLOAT3D m_vSrcOld;
  FLOAT3D m_vDstOld;
  FLOAT3D m_vSrc;
  FLOAT3D m_vDst;
  FLOAT3D m_iLastBulletPosition;
  CAnimObject m_aoLightAnim;
  INDEX m_ctPasses;
  CEntityPointer m_penPrediction;
CLightSource m_lsLightSource;
CEntity * penBullet;
const CPlacement3D * pplSource;
   void AddDependentsToPrediction(void);
   void RenderParticles(void);
   void Read_t(CTStream * istr);
   CLightSource * GetLightSource(void);
   void SetupLightSource(void);
   void DoMoving(void);
   void PostMoving(void);
   void PrepareBullet(const CPlacement3D & plBullet);
   void Fire(const CPlacement3D & plSource);
   void DestroyGhostBusterRay(void);
#define  STATE_CGhostBusterRay_Main 1
  BOOL Main(const CEntityEvent &__eeInput);
};

static const char *CGhostBusterRay_propnames[] = {
  "m_penOwner",
  "m_bRender",
  "m_vSrcOld",
  "m_vDstOld",
  "m_vSrc",
  "m_vDst",
  "m_iLastBulletPosition",
  "m_aoLightAnim",
  "m_ctPasses",
  "m_penPrediction",
};
#define CGhostBusterRay_propnamesct ARRAYCOUNT(CGhostBusterRay_propnames)

#endif // _EntitiesV_GhostBusterRay_INCLUDED
